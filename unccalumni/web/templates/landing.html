{% extends 'layout.html'%}

{% block content %}

<div id="vue-app" class="vue-app">
  <div class="dropdown m-md-2">
    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" a ria-expanded="false">
      Add a Dashboard
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <div class="dropdown-item" v-for="url_label in {{ dash_urls }}">
        <div class="row">
          <div class="col-md-9 pr-2 dash-label" @click="loadDashApp(url_label[0] , url_label[1])">
            [[ url_label[1] ]]
          </div>
          <!-- <div class="col-md-2 pr-0" @click="loadHelp(url_label[1])">
            <i class="far fa-question-circle dash-label-help" ></i>
          </div> -->
        </div>
      </div>
    </div>
  </div>
  <!-- <b-dropdown id="dropdown-1" text="Add a Dashboard" class="m-md-2">
    <b-dropdown-item v-for="url_label in {{ dash_urls }}" :key="url_label[0]" :value="url_label[1]">
      <div class="row">
        <div class="col-md-9 pr-0" @click="loadDashApp(url_label[0])">
          [[ url_label[1] ]]
        </div>
        <div class="col-md-2 pr-0">
          <i class="far fa-question-circle"></i>
        </div>
      </div>
    </b-dropdown-item>
  </b-dropdown> -->
  <!-- <button v-on:click="loadDashApp('/dash/wordtrend/')" class="btn btn-dark">Load Dash App</button> -->
  <!-- <div v-for="app in dashApps" v-html="app" class="col col-md-12">
      </div> -->
  <div class="dash-container container">
    <div class="row shadow-sm mb-2 bg-white rounded" v-if="dashApps.length == 0">
      <center>
      <pre class="welcome-logo shadow-lg p-3 mb-5 bg-white rounded">
        Select a Dashboard to Begin. You can add same dashboard multiple times
      </pre>
</center>
    </div>
     <b-tabs content-class="mt-3">
         <b-tab v-bind:title="app[1]" v-for="(app , index) in dashApps" :key="app[0]" v-bind:active="index == 0">
           <dash-app v-on:delete="deleteDashApp(app[0])" v-bind:url="app[0]" classname="embed-custom"></dash-app>
         </b-tab>
     </b-tabs>
    <!-- <div class="row" v-for="app in dashApps" :key="app">
      <dash-app v-on:delete="deleteDashApp" v-bind:url="app" classname="embed-custom"></dash-app>
    </div> -->
  </div>
</div>

<div id="dash-app-staging"></div>

{% endblock %}
